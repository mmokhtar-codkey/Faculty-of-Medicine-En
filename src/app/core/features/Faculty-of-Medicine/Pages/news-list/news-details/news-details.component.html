<div class="container section">
  <div class="row" *ngIf="news">
    <!-- Main Content -->
    <div class="col-lg-8 mb-4">
      <article class="news-article">
        <!-- Article Header -->
        <header class="article-header mb-4">
          <div class="mb-3">
            <span class="badge" [ngClass]="getCategoryBadgeClass(news.postCategories[0]?.categoryName || '')" *ngIf="news.postCategories && news.postCategories.length > 0">
              {{ news.postCategories[0]?.categoryName || 'Uncategorized' }}
            </span>
          </div>
          <h1 class="article-title text-brown">{{ news.title }}</h1>
          <div class="article-meta text-muted">
            <span class="me-3">
              <i class="fas fa-calendar-alt"></i>
              {{ news.createdDate | date: 'yyyy/MM/dd' }}
            </span>
          </div>
        </header>

        <!-- Article Image -->
        <div class="article-image mb-4" *ngIf="news.featuredImagePath">
          <img [src]="news.featuredImagePath" [alt]="news.title" class="img-fluid rounded">
        </div>

        <!-- Article Content -->
        <div class="article-content">
          <div class="content-body">
            {{ news.content }}
          </div>
          
          <!-- Tags -->
          <div class="article-tags mt-4" *ngIf="news.tags && news.tags.length > 0">
            <strong class="me-2">Keywords:</strong>
            <span class="badge bg-light text-dark me-1" *ngFor="let tag of news.tags">
              {{ tag }}
            </span>
          </div>
        </div>
      </article>
    </div>

    <!-- Sidebar -->
    <div class="col-lg-4">
      <aside class="news-sidebar">
        <!-- Navigation Links -->
        <div class="sidebar-section mb-4">
          <h5 class="sidebar-title">Browse News</h5>
          <div class="list-group">
            <button class="list-group-item list-group-item-action" (click)="goToNewsList()">
              <i class="fas fa-arrow-right me-2"></i>
              Back to News List
            </button>
            
            <button class="list-group-item list-group-item-action" *ngIf="previousNews" (click)="goToNewsDetails(previousNews)">
              <i class="fas fa-chevron-right me-2"></i>
              Previous News
            </button>
            
            <button class="list-group-item list-group-item-action" *ngIf="nextNews" (click)="goToNewsDetails(nextNews)">
              <i class="fas fa-chevron-left me-2"></i>
              Next News
            </button>
          </div>
        </div>

        <!-- Related News -->
        <div class="sidebar-section" *ngIf="relatedNews.length > 0">
          <h5 class="sidebar-title">Related News</h5>
          <div class="related-news">
            <div class="related-news-item" *ngFor="let relatedItem of relatedNews" (click)="goToNewsDetails(relatedItem)">
              <div class="row g-2">
                <div class="col-4" *ngIf="relatedItem.featuredImagePath">
                  <img [src]="relatedItem.featuredImagePath" [alt]="relatedItem.title" class="img-fluid rounded">
                </div>
                <div [class]="relatedItem.featuredImagePath ? 'col-8' : 'col-12'">
                  <h6 class="related-title">{{ relatedItem.title }}</h6>
                  <small class="text-muted">{{ relatedItem.createdDate | date: 'yyyy/MM/dd' }}</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <!-- Error State -->
  <div *ngIf="newsNotFound" class="text-center py-5">
    <div class="text-muted">
      <i class="fas fa-exclamation-triangle fa-3x mb-3 text-warning"></i>
      <h4>News Not Found</h4>
      <p>Sorry, the requested news could not be found.</p>
      <button class="btn btn-medicine" (click)="goToNewsList()">Back to News List</button>
    </div>
  </div>
</div>
