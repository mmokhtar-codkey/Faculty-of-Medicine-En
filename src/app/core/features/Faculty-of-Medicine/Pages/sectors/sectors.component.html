<div class="container section">
  <!-- Sector Title Section -->
  <div class="sector-header  text-white p-4 mb-4 rounded">
    <h1 class="text-brown">{{ sector?.name || 'Loading data...' }}</h1>
  </div>

  <!-- Horizontal Tabs -->
  <div class="medicine-tabs">
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'about'" (click)="switchTab('about')" type="button">
          About the Sector
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'details'" (click)="switchTab('details')" type="button">
          Sector Details
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'programs'" (click)="switchTab('programs')" type="button">
          Sector Programs
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'services'" (click)="switchTab('services')" type="button">
          Sector Services
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'posts'" (click)="switchTab('posts')" type="button">
          Sector Posts
        </button>
      </li>
      <li class="nav-item">
        <button class="nav-link" [class.active]="activeTab === 'members'" (click)="switchTab('members')" type="button">
          Sector Members
        </button>
      </li>
      <li class="nav-item"> 
        <button class="nav-link" [class.active]="activeTab === 'units'" (click)="switchTab('units')" type="button">
          Sector Units
        </button>
      </li>
    </ul>
  </div>

  <!-- Content Area -->
  <div class="row">
    <!-- About Tab Content -->
    <div *ngIf="activeTab === 'about'" class="col-12">
      <div class="row">
        <!-- Sidebar -->
        <div class="col-md-3 mb-4">
          <div class="list-group">
            <button type="button" class="list-group-item list-group-item-action"
              [class.active]="activeAboutSection === 'overview'" (click)="switchAboutSection('overview')">
              Overview
            </button>
            <button type="button" class="list-group-item list-group-item-action"
              [class.active]="activeAboutSection === 'vision'" (click)="switchAboutSection('vision')">
              Vision
            </button>
            <button type="button" class="list-group-item list-group-item-action"
              [class.active]="activeAboutSection === 'mission'" (click)="switchAboutSection('mission')">
              Mission
            </button>
            <button type="button" class="list-group-item list-group-item-action"
              [class.active]="activeAboutSection === 'objectives'" (click)="switchAboutSection('objectives')">
              Objectives
            </button>
          </div>
        </div>

        <!-- Content -->
        <div class="col-md-9">
          <div class="card">
            <div class="card-body">
              <div *ngIf="activeAboutSection === 'overview'">
                <h3 class="text-brown mb-3">Overview</h3>
                <p *ngIf="sector?.about">{{ sector?.about }}</p>
                <p *ngIf="!sector?.about">No information available about the sector.</p>
              </div>

              <div *ngIf="activeAboutSection === 'vision'">
                <h3 class="text-brown mb-3">Vision</h3>
                <p>{{ sector?.vision }}</p>
              </div>

              <div *ngIf="activeAboutSection === 'mission'">
                <h3 class="text-brown mb-3">Mission</h3>
                <p>{{ sector?.mission }}</p>
              </div>

              <div *ngIf="activeAboutSection === 'objectives'">
                <h3 class="text-brown mb-3">Objectives</h3>
                <ul>
                  <li *ngFor="let goal of sector?.goals">{{ goal.goalName }}</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Details Tab Content -->
    <div *ngIf="activeTab === 'details'" class="col-12">
      <div class="card">
        <div class="card-body">
          <h3 class="text-brown mb-3">{{ sectorDetail?.title }}</h3>
          <p class="mb-3">{{ sectorDetail?.content }}</p>
          <p *ngIf="!sectorDetail?.content">No details available about the sector.</p>
        </div>
      </div>
    </div>

    <!-- Programs Tab Content -->
    <div *ngIf="activeTab === 'programs'" class="col-12">
      <div class="row">
        <div class="col-md-3 mb-4" *ngIf="sectorPrograms && sectorPrograms.length > 0">
          <div class="list-group">
            <button type="button" class="list-group-item list-group-item-action"
              *ngFor="let program of sectorPrograms"
              [class.active]="selectedProgram?.id === program.id"
              (click)="selectProgram(program)">
              {{ program.name }}
            </button>
          </div>
        </div>
        <div class="col-md-9">
          <div class="card" *ngIf="selectedProgram">
            <div class="card-body">
              <h3 class="text-brown mb-3">{{ selectedProgram.name }}</h3>
              <p><strong>Program Name:</strong> {{ selectedProgram.programName }}</p>
              <p><strong>Sector:</strong> {{ selectedProgram.sectorName }}</p>
              <a (click)="goToProgramDetails(selectedProgram)" class="btn btn-medicine">View Program</a>
            </div>
          </div>
          <p *ngIf="!selectedProgram && sectorPrograms && sectorPrograms.length > 0">No details available about the program.</p>
          <p *ngIf="!sectorPrograms || sectorPrograms.length === 0">No programs available in this sector.</p>
        </div>
      </div>
    </div>

    <!-- Services Tab Content -->
    <div *ngIf="activeTab === 'services'" class="col-12">
      <div class="row">
        <div class="col-md-3 mb-4" *ngIf="sectorServices && sectorServices.length > 0">
          <div class="list-group">
            <button type="button" class="list-group-item list-group-item-action"
              *ngFor="let service of sectorServices"
              [class.active]="selectedService?.id === service.id"
              (click)="selectService(service)">
              {{ service.name }}
            </button>
          </div>
        </div>
        <div class="col-md-9">
          <div class="card" *ngIf="selectedService">
            <div class="card-body">
              <h3 class="text-brown mb-3">{{ selectedService.name }}</h3>
              <p class="mb-3">{{ selectedService.details }}</p>
              <ul class="list-unstyled">
                <li><strong>Duration:</strong> {{ selectedService.duration }}</li>
                <li><strong>Category:</strong> {{ selectedService.category }}</li>
                <li><strong>Fees:</strong> {{ selectedService.fees }}</li>
                <li><strong>Contact Person:</strong> {{ selectedService.contactPerson }}</li>
                <li><strong>Phone:</strong> {{ selectedService.contactPhone }}</li>
              </ul>
            </div>
          </div>
          <p *ngIf="!selectedService && sectorServices && sectorServices.length > 0">No details available about the service.</p>
          <p *ngIf="!sectorServices || sectorServices.length === 0">No services available in this sector.</p>
        </div>
      </div>
    </div>

    <!-- Posts Tab Content -->
    <div *ngIf="activeTab === 'posts'" class="col-12">
      <h3 class="text-brown mb-3">Sector Posts</h3>
      <div class="row" *ngIf="sectorPosts && sectorPosts.length > 0">
        <div class="col-lg-4 col-md-6 mb-4" *ngFor="let post of sectorPosts">
          <div class="news-card">
            <div class="news-card-body">
              <img *ngIf="post.postAttachments?.length"
                   [src]="post.postAttachments[0].url"
                   alt="{{ post.title }}"
                   class="news-card-image mb-3"
                   style="width:100%; height: 300px;">
              <h5 class="news-card-title">{{ post.title }}</h5>
              <div class="d-flex justify-content-between align-items-center">
                <button class="btn btn-medicine btn-sm"  (click)="goToPostDetails(post)">Read More</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <p *ngIf="!sectorPosts || sectorPosts.length === 0">No posts available in this sector.</p>
    </div>

    <!-- Members Tab Content -->
    <div *ngIf="activeTab === 'members'" class="col-12">
      <div class="card">
        <div class="card-body">
          <h3 class="text-brown mb-3">Sector Members</h3>
          <div *ngIf="sectorMembers && sectorMembers.length > 0">
            <div class="row">
              <div class="col-md-6 mb-3" *ngFor="let member of sectorMembers">
                <div class="card">
                  <div class="card-body">
                    <h6 class="card-title">{{ member.memberName }}</h6>
                    <p><span *ngIf="member.isLeader">(Sector Leader)</span></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="!sectorMembers || sectorMembers.length === 0">
            <p>No information available about sector members.</p>
          </div>
        </div>
      </div>
    </div>
  

    <div *ngIf="activeTab === 'units'" class="col-12">
      <div class="card">
        <div class="card-body">
          <h3 class="text-brown mb-3">Units under the Sector</h3>
          <div *ngIf="sectorUnits && sectorUnits.length > 0">
            <div class="row">
              <div class="col-md-6 mb-3" *ngFor="let unit of sectorUnits">
                <div class="card">
                  <div class="card-body">
                    <h6 class="card-title">{{ unit.unitName }}</h6>
                    <p><strong>Location:</strong> {{ unit.location }}</p>
                    <p><strong>Responsible:</strong> {{ unit.memberName }}</p>
                    <p><strong>Email:</strong> {{ unit.email }}</p>
                    <p><strong>Phone:</strong> {{ unit.unitPhone }}</p>
                    <button class="btn btn-medicine btn-sm"  (click)="goTounitDetails(unit)">Read More</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="!sectorUnits || sectorUnits.length === 0">
            <p>No information available about sector units.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
